site_url: https://blovi.pages.dev
display_url: https://blovi.pages.dev

backend:
  name: github
  repo: Bruniloski/loski.github.io
  branch: main
  base_url: https://blovi.pages.dev
  auth_endpoint: api/auth

media_folder: "uploads"
public_folder: "/uploads"

collections:
  - name: "products"
    label: "Productos"
    label_singular: "Producto"
    folder: "products"
    create: true
    delete: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter"

    fields:
      - label: "Nombre del producto"
        name: "title"
        widget: "string"

      - label: "Precio (€)"
        name: "price"
        widget: "number"
        value_type: "float"
        min: 0
        step: 0.01

      # ✅ NUEVO: categoría (para filtrar por ropa / setup / etc.)
      - label: "Categoría"
        name: "category"
        widget: "select"
        options: ["ropa", "setup", "otros"]
        default: "otros"

      - label: "Prioridad"
        name: "priority"
        widget: "boolean"
        default: false

      - label: "Enlace"
        name: "link"
        widget: "string"
        required: false

      - label: "Imagen del producto"
        name: "image"
        widget: "image"
        required: false

      - label: "Descripción / notas"
        name: "body"
        widget: "markdown"
        required: false

  # ✅ NUEVO: editor de categorías (data/categories.json) desde /admin
  - label: "Settings"
    name: "settings"
    files:
      - label: "Categories"
        name: "categories"
        file: "data/categories.json"
        format: "json"
        fields:
          - label: "Categories"
            name: "categories"
            widget: "list"
            fields:
              - { label: "ID", name: "id", widget: "string" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Icon (emoji)", name: "icon", widget: "string", default: "✨" }
